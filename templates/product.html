{% extends 'base.html' %}
{% load static %}
{% block content %}


<section id="selling-product" class="single-product padding-xlarge">
  {% for message in messages %}
<div class="container-fluid p-0">
    <div class="alert {{ message.tags }} alert-dismissible" role="alert" >
    <!--
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="True">&times;</span>
    </button>
    -->
    {{ message }}
    </div>
</div>

{% endfor %}
    <div class="container">
      <div class="row mt-5">
        <div class="col-lg-6">
          <div class="product-preview mb-3">
            <img src="{{ product.photo.url }}" alt="single-product" class="img-fluid">
          </div>
        </div>
        <div class="col-lg-6">
          <div class="product-info">
            <div class="element-header">
              <h3 itemprop="name" class="display-7 text-uppercase">{{ product.name }}</h3>
              <div class="rating-container d-flex align-items-center">
                <div class="rating" data-rating="1" onclick="rate(1)">
                  <svg class="star star-fill">
                    <use xlink:href="#star-fill"></use>
                  </svg>
                  <span class="rating-count ps-2">5.2</span>
                </div>
              </div>
            </div>

            <div class="product-price pt-3 pb-3">
              <strong class="text-primary display-6 fw-bold">${{ product.price }}</strong>
            </div>

            <p>
                {{ product.desc }}
            </p>

            
            <div class="cart-wrap padding-small">
                <!--
                <div class="color-options product-select">
                    <div class="color-toggle" data-option-index="0">
                    <h4 class="item-title text-uppercase text-dark text-decoration-underline">Color:</h4>
                    <ul class="select-list list-unstyled d-flex">
                        <li class="select-item pe-3" data-val="Green" title="Green">
                        <a href="#">Green</a>
                        </li>
                        <li class="select-item pe-3" data-val="Orange" title="Orange">
                        <a href="#">Orange</a>
                        </li>
                        <li class="select-item pe-3" data-val="Red" title="Red">
                        <a href="#">Red</a>
                        </li>
                        <li class="select-item" data-val="Black" title="Black">
                        <a href="#">Black</a>
                        </li>
                    </ul>
                    </div>
                </div>

                <div class="swatch product-select" data-option-index="1">
                
                    <h4 class="item-title text-uppercase text-dark text-decoration-underline">Size:</h4>
                    <ul class="select-list list-unstyled d-flex">
                    <li data-value="S" class="select-item pe-3">
                        <a href="#">XL</a>
                    </li>
                    <li data-value="M" class="select-item pe-3">
                        <a href="#">L</a>
                    </li>
                    <li data-value="L" class="select-item pe-3">
                        <a href="#">M</a>
                    </li>
                    <li data-value="L" class="select-item">
                        <a href="#">S</a>
                    </li>
                    </ul>
                </div>
                -->

                <div class="product-quantity">
                    <div class="stock-number text-dark">2 in stock</div>
                    <div class="stock-button-wrap pt-3">

                    <div class="input-group product-qty">
                        <span class="input-group-btn">
                            <a href="{{ product.get_reduce_order_quantity_url }}" style="padding: 15%" type="button" class=" btn btn-number" data-type="minus" data-field="">
                                -
                            </a>
                        </span>
                        <input type="text" id="quantity" name="quantity" class="form-control input-number" value="{{ order_qty }}" min="1" max="100">
                        <span class="input-group-btn">
                            <a href={{ product.get_add_to_cart_url }} style="padding: 15%" type="button" class=" btn btn-number" data-type="plus" data-field="">
                                +
                            </a>
                        </span>
                    </div>
                    <div class="qty-button d-flex flex-wrap pt-3">
                        <a href="{% url 'shop:cart' %}" type="submit" class="btn btn-primary btn-medium text-uppercase me-3 mt-3">Buy now</a>
                        <a href={{ product.get_add_to_cart_url }} type="submit" name="add-to-cart" value="1269" class="btn btn-black btn-medium text-uppercase mt-3">Add to cart</a>                      
                    </div>
                    </div>
                </div>

            </div>

            <!--
            <div class="meta-product py-2">
              <div class="meta-item d-flex align-items-baseline">
                <h4 class="item-title no-margin pe-2">SKU:</h4>
                <ul class="select-list list-unstyled d-flex">
                  <li data-value="S" class="select-item">1223</li>
                </ul>
              </div>
              <div class="meta-item d-flex align-items-baseline">
                <h4 class="item-title no-margin pe-2">Category:</h4>
                <ul class="select-list list-unstyled d-flex">
                  <li data-value="S" class="select-item">
                    <a href="#">Watch</a>,
                  </li>
                  <li data-value="S" class="select-item">
                    <a href="#"> Screen touch</a>,
                  </li>
                </ul>
              </div>
              <div class="meta-item d-flex align-items-baseline">
                <h4 class="item-title no-margin pe-2">Tags:</h4>
                <ul class="select-list list-unstyled d-flex">
                  <li data-value="S" class="select-item">
                    <a href="#">Classic</a>,
                  </li>
                  <li data-value="S" class="select-item">
                    <a href="#"> Modern</a>
                  </li>
                </ul>
              </div>
            </div>
            -->

          </div>
        </div>
      </div>
    </div>
</section>

<section class="product-info-tabs">
    <div class="container">
      <div class="row">
        <div class="tabs-listing">
          <nav>
            <div class="nav nav-tabs d-flex flex-wrap justify-content-center" id="nav-tab" role="tablist">
              <button class="nav-link active text-uppercase pe-5" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Description</button>
              <button class="nav-link text-uppercase pe-5" id="nav-review-tab" data-bs-toggle="tab" data-bs-target="#nav-review" type="button" role="tab" aria-controls="nav-review" aria-selected="false">Reviews</button>
            <!--
              <button class="nav-link text-uppercase pe-5" id="nav-information-tab" data-bs-toggle="tab" data-bs-target="#nav-information" type="button" role="tab" aria-controls="nav-information" aria-selected="false">Additional information</button>
            -->
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active border-top border-bottom padding-small" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
              <p>Product Description</p>
              <p>{{ product.desc }}</p>
              <!--
              <ul style="list-style-type:disc;" class="list-unstyled ps-4">
                <li>Donec nec justo eget felis facilisis fermentum.</li>
                <li>Suspendisse urna viverra non, semper suscipit pede.</li>
                <li>Aliquam porttitor mauris sit amet orci.</li>
              </ul> 
              <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna viverra non, semper suscipit, posuere a, pede. Donec nec justo eget felis facilisis fermentum. Aliquam porttitor mauris sit amet orci. Aenean dignissim pellentesque felis. Phasellus ultrices nulla quis nibh. Quisque a lectus. Donec consectetuer ligula vulputate sem tristique cursus. </p>
                -->
            </div>
            <div class="tab-pane fade border-top border-bottom padding-small" id="nav-information" role="tabpanel" aria-labelledby="nav-information-tab">
              <p>It is Comfortable and Best</p>
              <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
            <div class="tab-pane fade border-top border-bottom padding-small" id="nav-review" role="tabpanel" aria-labelledby="nav-review-tab">

             <section id="post-comment">
                <div class="container">
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="comments-wrap">

                        {% if reviews|length > 0 %}

                        <h2 class="display-6 fw-normal text-dark text-uppercase">
                          <span class="count">{{ reviews | length }}</span> Comments
                        </h2>

                        {% endif %}

                        <div class="comment-list padding-small">

                          {% for review in reviews %}

                          <article class="comment-item d-flex flex-wrap mb-3">
                            <!--
                            <div class="col-lg-1 col-sm-3 me-4 mb-3">
                              <img src="images/commentor-item1.jpg" alt="default" class="img-fluid">
                            </div>
                            -->
                            <div class="col-lg-10 col-sm-9 author-wrap">
                              <div class="author-post">
                                <div class="comment-meta d-flex">
                                  <div class="author-name fw-bold text-uppercase pe-1">{{ review.user }}</div>
                                  <span class="meta-date">{{ review.created_on }}</span>
                                </div>
                                <p class="no-margin">{{ review.comment }}</p>
                                <!--
                                <div class="comments-reply">
                                  <a href="#" class="btn btn-normal text-primary">Reply Now</a>
                                </div>
                                -->
                              </div>
                            </div>
                          </article>

                          {% endfor %}

                        </div>
                      </div>
                      <div class="comment-respond mt-3">
                        <h2 class="display-6 fw-normal text-dark text-uppercase">Leave a Comment</h2>
                        <form method="POST" class="form-group padding-small">
                          {% csrf_token %}
                          <div class="row">
                            <div class="col-lg-12 mb-3">
                              <textarea class="form-control ps-3 pt-3" id="comment" name="comment" placeholder="Write your comment here *"></textarea>
                            </div>
                            
                            <div class="col-lg-12 mt-3">
                              <button type="submit" class="btn btn-medium btn-black text-uppercase btn-rounded" style="color: #fff" type="submit">Post Comment </button>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<section id="related-products" class="product-store position-relative padding-large">
    <div class="container">
      <div class="row">
        <div class="display-header d-flex justify-content-between pb-3">
          <h2 class="display-7 text-dark text-uppercase">Related Products</h2>
          <div class="btn-right">
            <a href="{% url 'shop:shop' 1 %}" class="btn btn-medium btn-normal text-uppercase">Go to Shop</a>
          </div>
        </div>
        <div class="swiper product-swiper swiper-initialized swiper-horizontal swiper-backface-hidden">
          <div class="swiper-wrapper" id="swiper-wrapper-5f1f42103ff3af168" aria-live="polite">
            {% for product in related_products %}
                <div class="swiper-slide swiper-slide-active" style="width: 270px; margin-right: 20px;" role="group" aria-label="1 / 5">
                <div class="product-card position-relative">
                    <div class="image-holder1 image-holder">
                    <img src="{{ product.photo.url }}" alt="product-item" class="img-fluid">
                    </div>
                    <div class="cart-concern position-absolute">
                    <div class="cart-button d-flex">
                        <div class="btn-left">
                        <a href="{{ product.get_add_to_cart_url }}" class="btn btn-medium btn-black">Add to Cart</a>
                        <svg class="cart-outline position-absolute">
                            <use xlink:href="#cart-outline"></use>
                        </svg>
                        </div>
                    </div>
                    </div>
                    <div class="card-detail d-flex justify-content-between align-items-baseline pt-3">
                    <h3 class="card-title text-uppercase">
                        <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                    </h3>
                    <span class="item-price text-primary">${{ product.price }}</span>
                    </div>
                </div>
                </div>
            {% endfor %}
          </div>
        <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
      </div>
    </div>
    <div class="swiper-pagination position-absolute text-center"></div>
</section>

{% endblock content %}

